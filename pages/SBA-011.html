<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="dcterms.date" content="2022-09-16" />
  <title>xenoblog – Improvement Proposal 001</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../share/styles.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <div include-html="../share/snips/favicon.html"></div>
  <script src="../share/script.js"></script>
</head>
<body>
<div include-html="../share/snips/navbar.html"></div>
<header id="title-block-header">
<h1 class="title">Improvement Proposal 001</h1>
<p class="subtitle">Modular Dynamic Contents</p>
<p class="date">16 September 2022</p>
</header>
<h1 id="introduction">Introduction</h1>
<p>Permaweb is meant to be static, however the original design approach of our static blog is to build each page as a monolithic, complete package. Therefore each page is independent of one another. Changes, must be applied to every single page we’ve made, ideally never. However, my knowledge horizon only increases with time.</p>
<p>During the writing of <a href="SBA-010.html">SBA-010</a>, I also introduce another improvement to the <code>html</code> structure of our blog. Our stylesheet can be removed from the page header to a separate file (say, <code>~/shared/style.css</code>), therefore reducing each page’s file size. The change is actually minimal, all we have to do is to include the following line to our pandoc default files:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">css</span><span class="kw">:</span><span class="at"> ../share/styles.css</span></span></code></pre></div>
<p>Footer styling (class <code>.kaki</code> styling rule) can also be included within, therefore reducing markdown source for <code>footer.md</code> to:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>**************</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>::: kaki</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>xenostation blog by <span class="co">[</span><span class="ot">Hendrik Lie</span><span class="co">](https://sites.google.com/view/hendriklie/)</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>:::</span></code></pre></div>
<p>Previously it has to include its own stylesheets on the source markdown. With a separate custom stylesheet, we can now modify the styling for the footer by direct changes to our stylesheet. We no longer have to manually update all of the pages. It also means lower update costs, as instead of reuploading a bunch of pages just to update its styles, we just have to upload a new stylesheet.</p>
<p>On generating the page with pandoc from our source markdown, we also have one less html codes to include. Because the stylesheets is referred externally, we no longer need our <code>header.html</code>. The <code>header.html</code> is the one containing our custom stylesheets for navbar, justify body text, and to style our TOC. Which means we will have smaller file size to upload (each page no longer contain its own copy of stylesheets on the header).</p>
<p>We can do more, obviously, but it would require more researches.</p>
<h1 id="purpose">Purpose</h1>
<p>Now, how far can we improve the simplification? I was hoping that we can also upgrade our blog, in a manner that are modular: we can change some aspects of it with minimal amount of uploads. We can’t afford to reupload all of already existing pages just to update components of our blog. Not only that it costs real money (<code>AR</code> tokens), it is also simply inefficient and not elegant.</p>
<p>We also can’t just let earlier pages to be left not updated, with newer pages are the only ones inheriting latest features. It would make our blog be less uniform, and breaks coherence of styles. Okay I’m babbling, but generally I feel that having some sort of dynamism is important. Modular designs that allow certain elements to be updated separately is always a good idea.</p>
<p>How do we plan to introduce this kind of dynamism? Via the use of <code>includeHTML()</code> function through javascript. Therefore the purpose of this article, is to examine the viability of include page function.</p>
<h1 id="framework">Framework</h1>
<p>For testing purposes, I already uploaded some files on <a href="https://arweave.net/vgezV0sPqeAP4X83jikhmdTs_UlHupuyOC8uvuEpKwU/snips/">arweave</a>, where we have the following files:</p>
<pre><code>~/snips/
    |--/favicon.html
    |--/navbar.html
    |--/footer.html
    \--/testinclude.html</code></pre>
<p>As we have the files uploaded to arweave, we can start to include them in our page with a simple call.</p>
<p>Why do we need to upload it to arweave? Apparently uploading it on my traditional server doesn’t work. The browser screamed something similar to the following error messages:</p>
<blockquote>
<p>XMLHttpRequest cannot load &lt;some <code>http://</code> address&gt;. No ‘Access-Control-Allow-Origin’ header is present on the requested resource. Origin ‘null’ is therefore not allowed access.</p>
</blockquote>
<p>Then I tried to just refer to locally existing files instead. However it just simply wouldn’t work, as we get the following error:</p>
<blockquote>
<p>Access to XMLHttpRequest at ‘&lt;some directory with <code>file:///</code> path&gt;’ from origin ‘null’ has been blocked by CORS policy: Cross origin requests are only supported for protocol schemes: http, data, chrome, chrome-extension, chrome-untrusted, https, isolated-app.</p>
</blockquote>
<p>Curiously, files hosted in arweave, accessed through arweave gateway (the <code>https://arweave.net/&lt;TXID&gt;</code>) works flawlessly. Therefore to test page inclusion with the script, we have to just use the arweave gateway links.</p>
<p>Now our <code>includeHTML()</code> function had been briefly mentioned in <a href="SBA-000.html#html-include">SBA-000</a>, or you can read more from <a href="https://www.w3schools.com/howto/howto_html_include.asp">W3School</a>. However I couldn’t get it to work back then, simply because I know next to nothing about javascripts. However, just recently I can get it work by first including this piece of <code>&lt;script&gt;</code> element on a HTML page:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>   <span class="kw">&lt;script</span> <span class="er">src</span><span class="ot">=</span><span class="st">&quot;../share/script.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span></code></pre></div>
<p>It basically tells your browser to fetch our javascript file, which contains the <code>includeHTML()</code> function. Then after the script is called on, we can invoke its ability by the following piece:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;div</span> <span class="er">include-html</span><span class="ot">=</span><span class="st">&quot;target.html&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span></code></pre></div>
<p>For example let’s include a page here with the following code:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;div</span> <span class="er">include-html</span><span class="ot">=</span><span class="st">&quot;https://arweave.net/vgezV0sPqeAP4X83jikhmdTs_UlHupuyOC8uvuEpKwU/share/snips/testinclude.html&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span></code></pre></div>
<hr />
<div include-html="https://arweave.net/vgezV0sPqeAP4X83jikhmdTs_UlHupuyOC8uvuEpKwU/share/snips/testinclude.html"></div>
<hr />
<p>Then by the end of the page, don’t forget to include the following element:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;script&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">includeHTML</span>()<span class="op">;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/script&gt;</span></span></code></pre></div>
<h1 id="final-design">Final Design</h1>
<p>Now that we get the basics, how do we want to implement it here? Our goal was modularity, so our sites could have its elements segregated into individual files. It makes updating the site less cumbersome, as well as saving permaweb upload costs. Updating is just as simple as updating only the components that requires a change, while upload costs are reduced as now individual page files no longer have to carry identical copies of common elements, such as styles, scripts, navbar, or footers.</p>
<p>Therefore, it is logical to separate the following contents:</p>
<ol type="a">
<li>favicon: governs the icon that appears on the tab of browsers (structurally located at the <code>&lt;head&gt;</code> element of the page);</li>
<li>navbar: the link bar at the top of the page that you can click on, usually referring to homepage, about link, or other links (structurally located right after the opening of <code>&lt;body&gt;</code> element); and</li>
<li>footer: the credit line at the end of the page (before the end of <code>&lt;body&gt;</code> element).</li>
</ol>
<p>What we want is to call the <code>includeHTML()</code> function to fetch our <code>favicon</code>, <code>navbar</code>, and <code>footer</code> at their appropriate locations with the following lines:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;div</span> <span class="er">include-html</span><span class="ot">=</span><span class="st">&quot;../share/snips/favicon.html&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;div</span> <span class="er">include-html</span><span class="ot">=</span><span class="st">&quot;../share/snips/navbar.html&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;div</span> <span class="er">include-html</span><span class="ot">=</span><span class="st">&quot;../share/snips/footer.html&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span></code></pre></div>
<p>For testing purposes though, note that links starting with <code>file:///</code> is not supported, and our browser would simply refuse to fetch them. Therefore we have to subtitute the above lines with the following:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;div</span> <span class="er">include-html</span><span class="ot">=</span><span class="st">&quot;https://arweave.net/vgezV0sPqeAP4X83jikhmdTs_UlHupuyOC8uvuEpKwU/share/snips/favicon.html&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;div</span> <span class="er">include-html</span><span class="ot">=</span><span class="st">&quot;https://arweave.net/vgezV0sPqeAP4X83jikhmdTs_UlHupuyOC8uvuEpKwU/share/snips/navbar.html&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;div</span> <span class="er">include-html</span><span class="ot">=</span><span class="st">&quot;https://arweave.net/vgezV0sPqeAP4X83jikhmdTs_UlHupuyOC8uvuEpKwU/share/snips/footer.html&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span></code></pre></div>
<p>Then we need a way to switch testing case and production case for convenience. Fortunately it is very easy, we just have to craft a small script: <a href="#case.sh"><code>case.sh</code></a></p>
<p>The next biggest question would be, where to put those lines?</p>
<ol type="a">
<li><p><code>Favicon</code> needs to be included before the <code>&lt;body&gt;</code> element, specifically on the <code>&lt;head&gt;</code> element. Currently it is handled in the following line on our pandoc defaults file:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">include-in-header</span><span class="kw">:</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> ${.}/snips/favicon.html</span></span></code></pre></div>
<p>At first glance it seems logical that we just have to remove the inclusion of <code>favicon.html</code>. However, only its content is obsolete, not the file itself. We can replace the content of <code>favicon.html</code> with the following line instead:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;div</span> <span class="er">include-html</span><span class="ot">=</span><span class="st">&quot;../share/snips/favicon.html&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span></code></pre></div>
<p>Essentially we fetch the favicon from the <a href="../share/snips/favicon.html"><code>../share/snips/favicon.html</code></a>. Note that it is a different <code>favicon.html</code> from the one mentioned in our defaults file. The <code>favicon.html</code> that is referred in the <code>include-html</code> variable actually contains favicon definitions.</p>
<p>Updating favicons would also be trivial: we just have to update the <code>../share/snips/favicon.html</code>. Afterwards, all pages would refer to the same <code>favicon.html</code> file.</p></li>
<li><p><code>Navbar</code> is included right after the opening of the <code>&lt;body&gt;</code> element. At the moment it is invoked with the following line on our pandoc defaults file:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">include-before-body</span><span class="kw">:</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> ${.}/snips/navbar.html</span></span></code></pre></div>
<p>Like the case on <code>favicon</code> part, we don’t really have to change the defaults file. All we have to change is the content of <code>${.}/snips/navbar.html</code> with the following line:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;div</span> <span class="er">include-html</span><span class="ot">=</span><span class="st">&quot;../share/snips/navbar.html&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span></code></pre></div>
<p>It would obviously refer to <a href="../share/snips/navbar.html"><code>../share/snips/navbar.html</code></a>, that contains our navbar content. Likewise, updating the navbar is as simple as updating the <code>../share/snips/navbar.html</code> file.</p></li>
<li><p><code>Footer</code> is included right before the end of <code>&lt;body&gt;</code> element. It is by default introduced to the page with the following part of our pandoc defaults file:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">include-after-body</span><span class="kw">:</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> ${.}/snips/footer.html</span></span></code></pre></div>
<p>Where, like in the case of <code>favicon</code> and <code>navbar</code>, we can just update the <code>${.}/snips/footer.html</code> file to just contain the following line:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;div</span> <span class="er">include-html</span><span class="ot">=</span><span class="st">&quot;../share/snips/footer.html&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span></code></pre></div>
<p>Changing the footer would be just a matter of updating the <a href="../share/snips/footer.html"><code>../share/snips/footer.html</code></a> file. The <code>../share/snips/footer.html</code> would be the file that actually contains a snippet for our footer.</p></li>
</ol>
<p>See addendum for more information regarding of what changes, and how we implement it.</p>
<h1 id="addendum">Addendum</h1>
<p>This section includes some examples of our setup.</p>
<h2 id="pandoc-defaults-file">Pandoc Defaults File</h2>
<div class="sourceCode" id="cb16"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">standalone</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># For now we have to intentionally include toc with --toc argument</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># toc: true</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">toc-depth</span><span class="kw">:</span><span class="at"> </span><span class="dv">3</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="fu">title-prefix</span><span class="kw">:</span><span class="at"> xenoblog</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="fu">include-in-header</span><span class="kw">:</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> ${.}/snips/favicon.html</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> ${.}/snips/scripts.html</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="fu">include-before-body</span><span class="kw">:</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> ${.}/snips/navbar.html</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="fu">include-after-body</span><span class="kw">:</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> ${.}/snips/footer.html</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> ${.}/snips/scriptscall.html</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="fu">html-math-method</span><span class="kw">:</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">method</span><span class="kw">:</span><span class="at"> mathjax</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a><span class="fu">css</span><span class="kw">:</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> ../share/styles.css</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata-file</span><span class="kw">:</span><span class="at"> ${.}/meta/meta.yaml</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a><span class="fu">verbosity</span><span class="kw">:</span><span class="at"> INFO</span></span></code></pre></div>
<h2 id="page-html-structure-before-the-change">Page HTML structure before the change</h2>
<p>This is valid for pages uploaded before <a href="SBA-010.html">SBA-010</a>. Basically the vanilla version. Note that each page carry its own custom styles. One or two pages might not be that significantly redundant, but multiply it with a bunch of pages.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html</span> <span class="er">xmlns</span><span class="ot">=</span><span class="st">&quot;http://www.w3.org/1999/xhtml&quot;</span> <span class="er">lang</span><span class="ot">=</span><span class="st">&quot;en-US&quot;</span> <span class="er">xml:lang</span><span class="ot">=</span><span class="st">&quot;en-US&quot;</span><span class="kw">&gt;</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- [some meta tags] --&gt;</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;title&gt;</span>xenoblog – Improvement Proposal 001<span class="kw">&lt;/title&gt;</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;style&gt;</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>     &lt;!-- <span class="ex">[special pandoc-generated styles]</span> --<span class="op">&gt;</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/style&gt;</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- [some other piece of codes] --&gt;</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!--This section is for our favicon--&gt;</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;link</span> <span class="er">rel</span><span class="ot">=</span><span class="st">&quot;apple-touch-icon&quot;</span> <span class="er">sizes</span><span class="ot">=</span><span class="st">&quot;180x180&quot;</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;https://arweave.net/BWpWfuaig0pwvjhqXR6SBstpFORdvl2HfIVkh9EwwqA/icons/apple-touch-icon.png?v=alJ9yEr3LX&quot;</span><span class="kw">&gt;</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;link</span> <span class="er">rel</span><span class="ot">=</span><span class="st">&quot;icon&quot;</span> <span class="er">type</span><span class="ot">=</span><span class="st">&quot;image/png&quot;</span> <span class="er">sizes</span><span class="ot">=</span><span class="st">&quot;32x32&quot;</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;https://arweave.net/BWpWfuaig0pwvjhqXR6SBstpFORdvl2HfIVkh9EwwqA/icons/favicon-32x32.png?v=alJ9yEr3LX&quot;</span><span class="kw">&gt;</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;link</span> <span class="er">rel</span><span class="ot">=</span><span class="st">&quot;icon&quot;</span> <span class="er">type</span><span class="ot">=</span><span class="st">&quot;image/png&quot;</span> <span class="er">sizes</span><span class="ot">=</span><span class="st">&quot;16x16&quot;</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;https://arweave.net/BWpWfuaig0pwvjhqXR6SBstpFORdvl2HfIVkh9EwwqA/icons/favicon-16x16.png?v=alJ9yEr3LX&quot;</span><span class="kw">&gt;</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;link</span> <span class="er">rel</span><span class="ot">=</span><span class="st">&quot;manifest&quot;</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;https://arweave.net/BWpWfuaig0pwvjhqXR6SBstpFORdvl2HfIVkh9EwwqA/icons/site.webmanifest?v=alJ9yEr3LX&quot;</span><span class="kw">&gt;</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;link</span> <span class="er">rel</span><span class="ot">=</span><span class="st">&quot;mask-icon&quot;</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;https://arweave.net/BWpWfuaig0pwvjhqXR6SBstpFORdvl2HfIVkh9EwwqA/icons/safari-pinned-tab.svg?v=alJ9yEr3LX&quot;</span> <span class="er">color</span><span class="ot">=</span><span class="st">&quot;#5bbad5&quot;</span><span class="kw">&gt;</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;link</span> <span class="er">rel</span><span class="ot">=</span><span class="st">&quot;shortcut icon&quot;</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;https://arweave.net/BWpWfuaig0pwvjhqXR6SBstpFORdvl2HfIVkh9EwwqA/icons/favicon.ico?v=alJ9yEr3LX&quot;</span><span class="kw">&gt;</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;meta</span> <span class="er">name</span><span class="ot">=</span><span class="st">&quot;msapplication-TileColor&quot;</span> <span class="er">content</span><span class="ot">=</span><span class="st">&quot;#666666&quot;</span><span class="kw">&gt;</span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;meta</span> <span class="er">name</span><span class="ot">=</span><span class="st">&quot;msapplication-config&quot;</span> <span class="er">content</span><span class="ot">=</span><span class="st">&quot;https://arweave.net/BWpWfuaig0pwvjhqXR6SBstpFORdvl2HfIVkh9EwwqA/icons/browserconfig.xml?v=alJ9yEr3LX&quot;</span><span class="kw">&gt;</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;meta</span> <span class="er">name</span><span class="ot">=</span><span class="st">&quot;theme-color&quot;</span> <span class="er">content</span><span class="ot">=</span><span class="st">&quot;#666666&quot;</span><span class="kw">&gt;</span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!--Favicon section done--&gt;</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;body&gt;</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;style&gt;</span></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>  &lt;!-- <span class="ex">[styling for navbar, justify body, and TOC]</span> --<span class="op">&gt;</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/style&gt;</span></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- [our navbar is here] --&gt;</span></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;nav&gt;</span></span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;ul</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;nav&quot;</span><span class="kw">&gt;</span></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;li</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;nav&quot;</span><span class="kw">&gt;&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;../pages/index.html&quot;</span><span class="kw">&gt;</span>xenostation<span class="kw">&lt;/a&gt;&lt;/li&gt;</span></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;li</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;nav&quot;</span><span class="kw">&gt;&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;https://xenomancy.id/&quot;</span><span class="kw">&gt;</span>wiki<span class="kw">&lt;/a&gt;&lt;/li&gt;</span></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;li</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;nav&quot;</span><span class="kw">&gt;&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;../pages/SBA-002.html&quot;</span><span class="kw">&gt;</span>uploads<span class="kw">&lt;/a&gt;&lt;/li&gt;</span></span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;li</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;nav&quot;</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;float:right&quot;</span><span class="kw">&gt;&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;../pages/SBA-001.html&quot;</span><span class="kw">&gt;</span>about<span class="kw">&lt;/a&gt;&lt;/li&gt;</span></span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/ul&gt;</span></span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/nav&gt;</span></span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- [body contents here] --&gt;</span></span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- [our footer is below here] --&gt;</span></span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;style&gt;</span></span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>  &lt;!-- <span class="ex">[styling for footer only]</span> --<span class="op">&gt;</span></span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/style&gt;</span></span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;hr</span> <span class="kw">/&gt;</span></span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;div</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;kaki&quot;</span><span class="kw">&gt;</span></span>
<span id="cb17-50"><a href="#cb17-50" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;p&gt;</span>xenostation blog by <span class="kw">&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;https://sites.google.com/view/hendriklie/&quot;</span><span class="kw">&gt;</span>Hendrik Lie<span class="kw">&lt;/a&gt;&lt;/p&gt;</span></span>
<span id="cb17-51"><a href="#cb17-51" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/div&gt;</span></span>
<span id="cb17-52"><a href="#cb17-52" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/body&gt;</span></span>
<span id="cb17-53"><a href="#cb17-53" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<h2 id="page-html-structure-after-the-change">Page HTML structure after the change</h2>
<p>After the change, we have a massive saving of upload costs. Styles are no longer defined in each file, but instead is invoked by an external stylesheet. The inclusion of <code>includeHTML()</code> function via javascript allows other page elements to be completely offloaded: favicon, navbar, and footer can be outsourced to their dedicated files, that can be updated separately. Updates to styles, favicon, navbar, and footer would then be reflected on all pages, even the older ones.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html</span> <span class="er">xmlns</span><span class="ot">=</span><span class="st">&quot;http://www.w3.org/1999/xhtml&quot;</span> <span class="er">lang</span><span class="ot">=</span><span class="st">&quot;en-US&quot;</span> <span class="er">xml:lang</span><span class="ot">=</span><span class="st">&quot;en-US&quot;</span><span class="kw">&gt;</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- [some meta tags] --&gt;</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;title&gt;</span>xenoblog – Improvement Proposal 001<span class="kw">&lt;/title&gt;</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;style&gt;</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>     &lt;!-- <span class="ex">[special pandoc-generated styles]</span> --<span class="op">&gt;</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/style&gt;</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- [our stylesheet here] --&gt;</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;link</span> <span class="er">rel</span><span class="ot">=</span><span class="st">&quot;stylesheet&quot;</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;../share/styles.css&quot;</span> <span class="kw">/&gt;</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- [some other piece of codes] --&gt;</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- [our favicon] --&gt;</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;div</span> <span class="er">include-html</span><span class="ot">=</span><span class="st">&quot;../share/snips/favicon.html&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- [our script is here] --&gt;</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;script</span> <span class="er">src</span><span class="ot">=</span><span class="st">&quot;../share/script.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;body&gt;</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- [our navbar] --&gt;</span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;div</span> <span class="er">include-html</span><span class="ot">=</span><span class="st">&quot;../share/snips/navbar.html&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- [body contents here] --&gt;</span></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- [our footer] --&gt;</span></span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;div</span> <span class="er">include-html</span><span class="ot">=</span><span class="st">&quot;../share/snips/footer.html&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- [our includeHTML() invocation is below] --&gt;</span></span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;script&gt;</span></span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a><span class="fu">includeHTML</span>()<span class="op">;</span></span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/script&gt;</span></span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/body&gt;</span></span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<h2 id="case.sh">case.sh</h2>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co"># case.sh: a build sanitizer</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co"># The link format it is replacing is:</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; https://arweave.net/&lt;TXID&gt;</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="co"># For example:</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; https://arweave.net/vgezV0sPqeAP4X83jikhmdTs_UlHupuyOC8uvuEpKwU</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; the TXID is: vgezV0sPqeAP4X83jikhmdTs_UlHupuyOC8uvuEpKwU</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Please replace the TXID in this file with an appropriate TXID</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Otherwise the script just wouldn&#39;t work.</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="va">target</span><span class="op">=</span><span class="va">$2</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span><span class="fu"> mainnet</span> <span class="kw">{</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Sanitize target at $1</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a><span class="fu">sed</span> <span class="at">-i</span> <span class="st">&#39;s/https:\/\/arweave.net\/vgezV0sPqeAP4X83jikhmdTs_UlHupuyOC8uvuEpKwU/../g&#39;</span> <span class="va">$target</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span><span class="fu"> testnet</span> <span class="kw">{</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Unsanitize target at $1</span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a><span class="fu">sed</span> <span class="at">-i</span> <span class="st">&#39;s/\.\./https:\/\/arweave.net\/vgezV0sPqeAP4X83jikhmdTs_UlHupuyOC8uvuEpKwU/g&#39;</span> <span class="va">$target</span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="va">$1</span> <span class="ot">=</span> <span class="st">&quot;mainnet&quot;</span> <span class="bu">]</span></span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>  <span class="cf">then</span> <span class="ex">mainnet</span></span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> <span class="bu">[</span> <span class="va">$1</span> <span class="ot">=</span> <span class="st">&quot;testnet&quot;</span> <span class="bu">]</span></span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>  <span class="cf">then</span> <span class="ex">testnet</span></span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span> <span class="bu">echo</span> <span class="st">&quot;Error: use &#39;./case.sh mainnet &lt;target&gt;&#39; to remove test links from &lt;target&gt; and prepare for upload; or &#39;./case.sh testnet &lt;target&gt;&#39; to prepare &lt;target&gt; for testing&quot;</span></span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span></code></pre></div>
<div include-html="../share/snips/footer.html"></div>
<script>
includeHTML();
</script>
</body>
</html>
